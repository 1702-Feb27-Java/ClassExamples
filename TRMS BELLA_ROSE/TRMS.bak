--------------------------------------------------------
--  File created - Saturday-April-01-2017   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Table APPROVED
--------------------------------------------------------

  CREATE TABLE "TRMSDB"."APPROVED" 
   (	"APPROVAL_ID" NUMBER, 
	"APPROVALLEVEL" VARCHAR2(20 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ATTACHMENTS
--------------------------------------------------------

  CREATE TABLE "TRMSDB"."ATTACHMENTS" 
   (	"ATTACHMENT_ID" NUMBER, 
	"FILE_LOCATION" VARCHAR2(20 BYTE), 
	"REIMBURSEMENT_ID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table CHAT
--------------------------------------------------------

  CREATE TABLE "TRMSDB"."CHAT" 
   (	"NOTE" VARCHAR2(4000 BYTE), 
	"REIM_ID" NUMBER, 
	"CHAT_ID" NUMBER, 
	"AUTHOR_ID" NUMBER, 
	"SENT_TO_ID" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table COURSETYPE
--------------------------------------------------------

  CREATE TABLE "TRMSDB"."COURSETYPE" 
   (	"COURSE_ID" NUMBER, 
	"COURSETYPE" VARCHAR2(20 BYTE), 
	"PERCENTAGE" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table DEPARTMENT
--------------------------------------------------------

  CREATE TABLE "TRMSDB"."DEPARTMENT" 
   (	"DEPT_ID" NUMBER, 
	"DEPT" VARCHAR2(20 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table EMPLOYEE
--------------------------------------------------------

  CREATE TABLE "TRMSDB"."EMPLOYEE" 
   (	"FIRST_NAME" VARCHAR2(40 BYTE), 
	"LAST_NAME" VARCHAR2(20 BYTE), 
	"ADDRESS" VARCHAR2(70 BYTE), 
	"DEPT_ID" NUMBER, 
	"REPORTSTO" NUMBER, 
	"ROLE_ID" NUMBER, 
	"EMPLOYEE_ID" NUMBER, 
	"USERNAME" VARCHAR2(16 BYTE), 
	"PASSWORD" VARCHAR2(16 BYTE), 
	"EMAIL" VARCHAR2(40 BYTE), 
	"ALLOWANCE" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table GRADETYPE
--------------------------------------------------------

  CREATE TABLE "TRMSDB"."GRADETYPE" 
   (	"GRADE_ID" NUMBER, 
	"GRADINGTYPE" VARCHAR2(20 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table REIMBURSEMENT
--------------------------------------------------------

  CREATE TABLE "TRMSDB"."REIMBURSEMENT" 
   (	"REIMBURSEMENT_ID" NUMBER, 
	"REIMBURSEMENT_AMNT" NUMBER, 
	"EMPLOYEE_ID" NUMBER, 
	"LOCATION" VARCHAR2(40 BYTE), 
	"COURSE_COST" NUMBER, 
	"COURSE_LENGTH" NUMBER, 
	"APPROVAL_ID" NUMBER, 
	"COURSE_ID" NUMBER, 
	"GRADETYPE_ID" NUMBER, 
	"PASSING_GRADE" VARCHAR2(20 BYTE), 
	"START_DATE" DATE, 
	"END_DATE" DATE, 
	"APPLICATION_DATE" DATE, 
	"REJECTION_NOTE" VARCHAR2(400 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table ROLE
--------------------------------------------------------

  CREATE TABLE "TRMSDB"."ROLE" 
   (	"ROLE_ID" NUMBER, 
	"ROLE" VARCHAR2(20 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Sequence ATT_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "TRMSDB"."ATT_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 1 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence COURSE_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "TRMSDB"."COURSE_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence EMP_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "TRMSDB"."EMP_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 61 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence GRADE_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "TRMSDB"."GRADE_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 21 CACHE 20 NOORDER  NOCYCLE ;
--------------------------------------------------------
--  DDL for Sequence REIM_SEQ
--------------------------------------------------------

   CREATE SEQUENCE  "TRMSDB"."REIM_SEQ"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 141 CACHE 20 NOORDER  NOCYCLE ;
REM INSERTING into TRMSDB.APPROVED
SET DEFINE OFF;
Insert into TRMSDB.APPROVED (APPROVAL_ID,APPROVALLEVEL) values (1,'new');
Insert into TRMSDB.APPROVED (APPROVAL_ID,APPROVALLEVEL) values (2,'Supervisor Approval');
Insert into TRMSDB.APPROVED (APPROVAL_ID,APPROVALLEVEL) values (3,'Supervisor more info');
Insert into TRMSDB.APPROVED (APPROVAL_ID,APPROVALLEVEL) values (4,'Dept head approval');
Insert into TRMSDB.APPROVED (APPROVAL_ID,APPROVALLEVEL) values (5,'dept head more info');
Insert into TRMSDB.APPROVED (APPROVAL_ID,APPROVALLEVEL) values (6,'benco approval');
Insert into TRMSDB.APPROVED (APPROVAL_ID,APPROVALLEVEL) values (7,'benco more info');
Insert into TRMSDB.APPROVED (APPROVAL_ID,APPROVALLEVEL) values (8,'grade');
Insert into TRMSDB.APPROVED (APPROVAL_ID,APPROVALLEVEL) values (9,'review');
Insert into TRMSDB.APPROVED (APPROVAL_ID,APPROVALLEVEL) values (10,'done');
Insert into TRMSDB.APPROVED (APPROVAL_ID,APPROVALLEVEL) values (11,'denied');
REM INSERTING into TRMSDB.ATTACHMENTS
SET DEFINE OFF;
REM INSERTING into TRMSDB.CHAT
SET DEFINE OFF;
REM INSERTING into TRMSDB.COURSETYPE
SET DEFINE OFF;
Insert into TRMSDB.COURSETYPE (COURSE_ID,COURSETYPE,PERCENTAGE) values (1,'University Course',80);
Insert into TRMSDB.COURSETYPE (COURSE_ID,COURSETYPE,PERCENTAGE) values (2,'Seminar',60);
Insert into TRMSDB.COURSETYPE (COURSE_ID,COURSETYPE,PERCENTAGE) values (3,'Cert Prep',75);
Insert into TRMSDB.COURSETYPE (COURSE_ID,COURSETYPE,PERCENTAGE) values (4,'Cert',100);
Insert into TRMSDB.COURSETYPE (COURSE_ID,COURSETYPE,PERCENTAGE) values (5,'Tech Training',90);
Insert into TRMSDB.COURSETYPE (COURSE_ID,COURSETYPE,PERCENTAGE) values (6,'Other',30);
REM INSERTING into TRMSDB.DEPARTMENT
SET DEFINE OFF;
Insert into TRMSDB.DEPARTMENT (DEPT_ID,DEPT) values (1,'BenCo');
Insert into TRMSDB.DEPARTMENT (DEPT_ID,DEPT) values (2,'Marketing');
REM INSERTING into TRMSDB.EMPLOYEE
SET DEFINE OFF;
Insert into TRMSDB.EMPLOYEE (FIRST_NAME,LAST_NAME,ADDRESS,DEPT_ID,REPORTSTO,ROLE_ID,EMPLOYEE_ID,USERNAME,PASSWORD,EMAIL,ALLOWANCE) values ('Bella','Rose','211 Jamestown Drive',2,25,1,1,'brose','1234','rosebella1433@gmail.com',0);
Insert into TRMSDB.EMPLOYEE (FIRST_NAME,LAST_NAME,ADDRESS,DEPT_ID,REPORTSTO,ROLE_ID,EMPLOYEE_ID,USERNAME,PASSWORD,EMAIL,ALLOWANCE) values ('Paul','Walker','2121 Raven Tower Court ',2,null,2,25,'pwalker','1234','rosebella1433@gmail.com',0);
Insert into TRMSDB.EMPLOYEE (FIRST_NAME,LAST_NAME,ADDRESS,DEPT_ID,REPORTSTO,ROLE_ID,EMPLOYEE_ID,USERNAME,PASSWORD,EMAIL,ALLOWANCE) values ('Deanna','Petty','4 Privet Drive',1,null,1,41,'dpetty','1234','rosebella1433@gmail.com',0);
REM INSERTING into TRMSDB.GRADETYPE
SET DEFINE OFF;
Insert into TRMSDB.GRADETYPE (GRADE_ID,GRADINGTYPE) values (1,'Letter Grade');
Insert into TRMSDB.GRADETYPE (GRADE_ID,GRADINGTYPE) values (2,'Number Grade');
Insert into TRMSDB.GRADETYPE (GRADE_ID,GRADINGTYPE) values (3,'Pass/Fail');
Insert into TRMSDB.GRADETYPE (GRADE_ID,GRADINGTYPE) values (4,'Presentation');
REM INSERTING into TRMSDB.REIMBURSEMENT
SET DEFINE OFF;
Insert into TRMSDB.REIMBURSEMENT (REIMBURSEMENT_ID,REIMBURSEMENT_AMNT,EMPLOYEE_ID,LOCATION,COURSE_COST,COURSE_LENGTH,APPROVAL_ID,COURSE_ID,GRADETYPE_ID,PASSING_GRADE,START_DATE,END_DATE,APPLICATION_DATE,REJECTION_NOTE) values (121,1000,1,'Revature',45,0,11,4,1,null,to_date('30-MAR-17','DD-MON-RR'),to_date('30-MAR-17','DD-MON-RR'),to_date('31-MAR-17','DD-MON-RR'),'Testing');
Insert into TRMSDB.REIMBURSEMENT (REIMBURSEMENT_ID,REIMBURSEMENT_AMNT,EMPLOYEE_ID,LOCATION,COURSE_COST,COURSE_LENGTH,APPROVAL_ID,COURSE_ID,GRADETYPE_ID,PASSING_GRADE,START_DATE,END_DATE,APPLICATION_DATE,REJECTION_NOTE) values (35,0,1,'Revature',100,0,11,1,1,'C',to_date('28-FEB-17','DD-MON-RR'),to_date('28-FEB-17','DD-MON-RR'),to_date('26-MAR-17','DD-MON-RR'),'Aaron says NO');
Insert into TRMSDB.REIMBURSEMENT (REIMBURSEMENT_ID,REIMBURSEMENT_AMNT,EMPLOYEE_ID,LOCATION,COURSE_COST,COURSE_LENGTH,APPROVAL_ID,COURSE_ID,GRADETYPE_ID,PASSING_GRADE,START_DATE,END_DATE,APPLICATION_DATE,REJECTION_NOTE) values (36,0,1,'Revature',100,0,1,1,1,'C',to_date('28-FEB-17','DD-MON-RR'),to_date('28-FEB-17','DD-MON-RR'),to_date('26-MAR-17','DD-MON-RR'),'Sweet Alert Test');
Insert into TRMSDB.REIMBURSEMENT (REIMBURSEMENT_ID,REIMBURSEMENT_AMNT,EMPLOYEE_ID,LOCATION,COURSE_COST,COURSE_LENGTH,APPROVAL_ID,COURSE_ID,GRADETYPE_ID,PASSING_GRADE,START_DATE,END_DATE,APPLICATION_DATE,REJECTION_NOTE) values (101,1000,41,'Revature',500,0,1,1,1,'C',to_date('25-APR-17','DD-MON-RR'),to_date('25-APR-17','DD-MON-RR'),to_date('28-MAR-17','DD-MON-RR'),null);
Insert into TRMSDB.REIMBURSEMENT (REIMBURSEMENT_ID,REIMBURSEMENT_AMNT,EMPLOYEE_ID,LOCATION,COURSE_COST,COURSE_LENGTH,APPROVAL_ID,COURSE_ID,GRADETYPE_ID,PASSING_GRADE,START_DATE,END_DATE,APPLICATION_DATE,REJECTION_NOTE) values (103,0,41,'Revature',500,0,1,3,3,'C',to_date('25-APR-17','DD-MON-RR'),to_date('25-APR-17','DD-MON-RR'),to_date('28-MAR-17','DD-MON-RR'),null);
Insert into TRMSDB.REIMBURSEMENT (REIMBURSEMENT_ID,REIMBURSEMENT_AMNT,EMPLOYEE_ID,LOCATION,COURSE_COST,COURSE_LENGTH,APPROVAL_ID,COURSE_ID,GRADETYPE_ID,PASSING_GRADE,START_DATE,END_DATE,APPLICATION_DATE,REJECTION_NOTE) values (39,0,1,'Revature',100,0,1,1,1,'C',to_date('28-FEB-17','DD-MON-RR'),to_date('28-FEB-17','DD-MON-RR'),to_date('26-MAR-17','DD-MON-RR'),'Test');
Insert into TRMSDB.REIMBURSEMENT (REIMBURSEMENT_ID,REIMBURSEMENT_AMNT,EMPLOYEE_ID,LOCATION,COURSE_COST,COURSE_LENGTH,APPROVAL_ID,COURSE_ID,GRADETYPE_ID,PASSING_GRADE,START_DATE,END_DATE,APPLICATION_DATE,REJECTION_NOTE) values (61,0,1,'Revature',100,0,1,1,1,'C',to_date('28-FEB-17','DD-MON-RR'),to_date('28-FEB-17','DD-MON-RR'),to_date('27-MAR-17','DD-MON-RR'),'SHowing JOn and edward');
REM INSERTING into TRMSDB.ROLE
SET DEFINE OFF;
Insert into TRMSDB.ROLE (ROLE_ID,ROLE) values (1,'Employee');
Insert into TRMSDB.ROLE (ROLE_ID,ROLE) values (2,'Direct Supervisor');
Insert into TRMSDB.ROLE (ROLE_ID,ROLE) values (3,'Dept Head');
--------------------------------------------------------
--  DDL for Index C_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "TRMSDB"."C_ID_PK" ON "TRMSDB"."COURSETYPE" ("COURSE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index G_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "TRMSDB"."G_ID_PK" ON "TRMSDB"."GRADETYPE" ("GRADE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index D_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "TRMSDB"."D_ID_PK" ON "TRMSDB"."DEPARTMENT" ("DEPT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index A_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "TRMSDB"."A_ID_PK" ON "TRMSDB"."APPROVED" ("APPROVAL_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index R_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "TRMSDB"."R_ID_PK" ON "TRMSDB"."ROLE" ("ROLE_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index ATT_ID_PK
--------------------------------------------------------

  CREATE UNIQUE INDEX "TRMSDB"."ATT_ID_PK" ON "TRMSDB"."ATTACHMENTS" ("ATTACHMENT_ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Trigger ATT_TRIGGER
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "TRMSDB"."ATT_TRIGGER" -- name
  before insert on Attachments --upon what event
  for each row -- how often
  begin --start what actually happens
    select att_seq.NEXTVAL
    into :new.attachment_id
    from dual;
  end;
/
ALTER TRIGGER "TRMSDB"."ATT_TRIGGER" ENABLE;
--------------------------------------------------------
--  DDL for Trigger COURSE_TRIGGER
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "TRMSDB"."COURSE_TRIGGER" -- name
  before insert on CourseType --upon what event
  for each row -- how often
  begin --start what actually happens
    select course_seq.NEXTVAL
    into :new.course_id
    from dual;
  end;
/
ALTER TRIGGER "TRMSDB"."COURSE_TRIGGER" ENABLE;
--------------------------------------------------------
--  DDL for Trigger EMP_TRIGGER
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "TRMSDB"."EMP_TRIGGER" -- name
  before insert on Employee --upon what event
  for each row -- how often
  begin --start what actually happens
    select emp_seq.NEXTVAL
    into :new.Employee_ID
    from dual;
  end;
/
ALTER TRIGGER "TRMSDB"."EMP_TRIGGER" ENABLE;
--------------------------------------------------------
--  DDL for Trigger GRADE_TRIGGER
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "TRMSDB"."GRADE_TRIGGER" -- name
  before insert on GradeType --upon what event
  for each row -- how often
  begin --start what actually happens
    select grade_seq.NEXTVAL
    into :new.grade_id
    from dual;
  end;
/
ALTER TRIGGER "TRMSDB"."GRADE_TRIGGER" ENABLE;
--------------------------------------------------------
--  DDL for Trigger REIM_TRIGGER
--------------------------------------------------------

  CREATE OR REPLACE TRIGGER "TRMSDB"."REIM_TRIGGER" -- name
  before insert on Reimbursement --upon what event
  for each row -- how often
  begin --start what actually happens
    select reim_seq.NEXTVAL
    into :new.Reimbursement_ID
    from dual;
  end;
/
ALTER TRIGGER "TRMSDB"."REIM_TRIGGER" ENABLE;
--------------------------------------------------------
--  DDL for Procedure DELETEREIM
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "TRMSDB"."DELETEREIM" (ident in number)
as 
begin
Delete from Reimbursement 
where REIMBURSEMENT_ID = ident;
end;

/
--------------------------------------------------------
--  DDL for Procedure UPDATEREIM
--------------------------------------------------------
set define off;

  CREATE OR REPLACE PROCEDURE "TRMSDB"."UPDATEREIM" (ident in number, reim_amnt in number, rej_note in VARCHAR2, app_id in number)
as 
begin
Update Reimbursement 
set REIMBURSEMENT_AMNT = reim_amnt, APPROVAL_ID = app_id, REJECTION_NOTE = rej_note
where REIMBURSEMENT_ID = ident;
end;

/
--------------------------------------------------------
--  Constraints for Table GRADETYPE
--------------------------------------------------------

  ALTER TABLE "TRMSDB"."GRADETYPE" ADD CONSTRAINT "G_ID_PK" PRIMARY KEY ("GRADE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ROLE
--------------------------------------------------------

  ALTER TABLE "TRMSDB"."ROLE" ADD CONSTRAINT "R_ID_PK" PRIMARY KEY ("ROLE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table ATTACHMENTS
--------------------------------------------------------

  ALTER TABLE "TRMSDB"."ATTACHMENTS" ADD CONSTRAINT "ATT_ID_PK" PRIMARY KEY ("ATTACHMENT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table DEPARTMENT
--------------------------------------------------------

  ALTER TABLE "TRMSDB"."DEPARTMENT" ADD CONSTRAINT "D_ID_PK" PRIMARY KEY ("DEPT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table COURSETYPE
--------------------------------------------------------

  ALTER TABLE "TRMSDB"."COURSETYPE" ADD CONSTRAINT "C_ID_PK" PRIMARY KEY ("COURSE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table REIMBURSEMENT
--------------------------------------------------------

  ALTER TABLE "TRMSDB"."REIMBURSEMENT" ADD PRIMARY KEY ("REIMBURSEMENT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "TRMSDB"."REIMBURSEMENT" MODIFY ("APPROVAL_ID" NOT NULL ENABLE);
  ALTER TABLE "TRMSDB"."REIMBURSEMENT" MODIFY ("COURSE_COST" NOT NULL ENABLE);
  ALTER TABLE "TRMSDB"."REIMBURSEMENT" MODIFY ("LOCATION" NOT NULL ENABLE);
  ALTER TABLE "TRMSDB"."REIMBURSEMENT" MODIFY ("EMPLOYEE_ID" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table APPROVED
--------------------------------------------------------

  ALTER TABLE "TRMSDB"."APPROVED" ADD CONSTRAINT "A_ID_PK" PRIMARY KEY ("APPROVAL_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table EMPLOYEE
--------------------------------------------------------

  ALTER TABLE "TRMSDB"."EMPLOYEE" ADD UNIQUE ("USERNAME")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "TRMSDB"."EMPLOYEE" ADD PRIMARY KEY ("EMPLOYEE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
  ALTER TABLE "TRMSDB"."EMPLOYEE" MODIFY ("EMAIL" NOT NULL ENABLE);
  ALTER TABLE "TRMSDB"."EMPLOYEE" MODIFY ("PASSWORD" NOT NULL ENABLE);
  ALTER TABLE "TRMSDB"."EMPLOYEE" MODIFY ("USERNAME" NOT NULL ENABLE);
  ALTER TABLE "TRMSDB"."EMPLOYEE" MODIFY ("ROLE_ID" NOT NULL ENABLE);
  ALTER TABLE "TRMSDB"."EMPLOYEE" MODIFY ("DEPT_ID" NOT NULL ENABLE);
  ALTER TABLE "TRMSDB"."EMPLOYEE" MODIFY ("ADDRESS" NOT NULL ENABLE);
  ALTER TABLE "TRMSDB"."EMPLOYEE" MODIFY ("LAST_NAME" NOT NULL ENABLE);
  ALTER TABLE "TRMSDB"."EMPLOYEE" MODIFY ("FIRST_NAME" NOT NULL ENABLE);
--------------------------------------------------------
--  Constraints for Table CHAT
--------------------------------------------------------

  ALTER TABLE "TRMSDB"."CHAT" ADD PRIMARY KEY ("CHAT_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table ATTACHMENTS
--------------------------------------------------------

  ALTER TABLE "TRMSDB"."ATTACHMENTS" ADD FOREIGN KEY ("REIMBURSEMENT_ID")
	  REFERENCES "TRMSDB"."REIMBURSEMENT" ("REIMBURSEMENT_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table CHAT
--------------------------------------------------------

  ALTER TABLE "TRMSDB"."CHAT" ADD FOREIGN KEY ("AUTHOR_ID")
	  REFERENCES "TRMSDB"."EMPLOYEE" ("EMPLOYEE_ID") ENABLE;
  ALTER TABLE "TRMSDB"."CHAT" ADD FOREIGN KEY ("SENT_TO_ID")
	  REFERENCES "TRMSDB"."EMPLOYEE" ("EMPLOYEE_ID") ENABLE;
  ALTER TABLE "TRMSDB"."CHAT" ADD FOREIGN KEY ("REIM_ID")
	  REFERENCES "TRMSDB"."REIMBURSEMENT" ("REIMBURSEMENT_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table EMPLOYEE
--------------------------------------------------------

  ALTER TABLE "TRMSDB"."EMPLOYEE" ADD FOREIGN KEY ("ROLE_ID")
	  REFERENCES "TRMSDB"."ROLE" ("ROLE_ID") ENABLE;
  ALTER TABLE "TRMSDB"."EMPLOYEE" ADD FOREIGN KEY ("DEPT_ID")
	  REFERENCES "TRMSDB"."DEPARTMENT" ("DEPT_ID") ENABLE;
  ALTER TABLE "TRMSDB"."EMPLOYEE" ADD FOREIGN KEY ("REPORTSTO")
	  REFERENCES "TRMSDB"."EMPLOYEE" ("EMPLOYEE_ID") ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table REIMBURSEMENT
--------------------------------------------------------

  ALTER TABLE "TRMSDB"."REIMBURSEMENT" ADD FOREIGN KEY ("EMPLOYEE_ID")
	  REFERENCES "TRMSDB"."EMPLOYEE" ("EMPLOYEE_ID") ENABLE;
  ALTER TABLE "TRMSDB"."REIMBURSEMENT" ADD FOREIGN KEY ("APPROVAL_ID")
	  REFERENCES "TRMSDB"."APPROVED" ("APPROVAL_ID") ENABLE;
  ALTER TABLE "TRMSDB"."REIMBURSEMENT" ADD FOREIGN KEY ("COURSE_ID")
	  REFERENCES "TRMSDB"."COURSETYPE" ("COURSE_ID") ENABLE;
  ALTER TABLE "TRMSDB"."REIMBURSEMENT" ADD FOREIGN KEY ("GRADETYPE_ID")
	  REFERENCES "TRMSDB"."GRADETYPE" ("GRADE_ID") ENABLE;
